<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Forgot Password</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="container">
    <div class="image-section">
      <h2>Reset your password<br>and get back in</h2>
    </div>
    <div class="form-section">
      <div class="form-box">
        <h2>Forgot Password</h2>
        <p class="small-text">Enter your email to receive a reset link.</p>

        <form onsubmit="resetPassword(event)" class="form">
          <input type="email" id="resetEmail" placeholder="Enter your email" required />
          <button type="submit" class="primary-btn">Send Reset Link</button>
        </form>

        <p class="small-text" style="margin-top: 1em;">
          <a href="login.html">Back to login</a>
        </p>
      </div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyChrDsIYkzQSkjv8ONuZAn4xMvTyaStBHI",
      authDomain: "explore-tamilagam.firebaseapp.com",
      projectId: "explore-tamilagam",
      storageBucket: "explore-tamilagam.firebasestorage.app",
      messagingSenderId: "153535591637",
      appId: "1:153535591637:web:a005dc8e02b14d5d60de5c",
      measurementId: "G-ZJ6CQT63SY"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.resetPassword = function (event) {
      event.preventDefault();
      const email = document.getElementById('resetEmail').value;

      sendPasswordResetEmail(auth, email)
        .then(() => {
          alert('Password reset link sent! Check your email.');
          window.location.href = "login.html";
        })
        .catch((error) => {
          alert(error.message);
        });
    };
  </script>
</body>
</html>
